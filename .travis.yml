language: python
sudo: required
python:
    - '2.7'
    - '3.6'
install:
    - pip install -r requirements.txt
    - pip install -r tests/requirements.txt
cache: pip
script:
    - python setup.py check -m -s
    - python setup.py build_ext --inplace
    - coverage run --source keras_retinanet -m py.test keras_retinanet tests -v --doctest-modules --forked
    - coverage report
    - flake8 . --max-line-length=100
